# Blogsite Application - Project Structure

## Complete Folder Structure

```
exam-1-blogsite/
│
├── README.md                           # Main project documentation
│
├── client/                             # Next.js Frontend Application
│   ├── app/                           # Next.js App Router
│   │   ├── globals.css               # Global styles
│   │   ├── layout.tsx                # Root layout
│   │   └── page.tsx                  # Home page
│   ├── public/                       # Static assets (images, fonts, etc.)
│   ├── components/                   # React components (to be created)
│   ├── lib/                          # Utility functions and configs (to be created)
│   ├── types/                        # TypeScript type definitions (to be created)
│   ├── hooks/                        # Custom React hooks (to be created)
│   ├── .env.local                    # Environment variables (to be created)
│   ├── next.config.ts                # Next.js configuration
│   ├── package.json                  # Node dependencies
│   ├── postcss.config.mjs            # PostCSS configuration
│   ├── tsconfig.json                 # TypeScript configuration
│   └── eslint.config.mjs             # ESLint configuration
│
└── server/                            # Flask Backend Application
    ├── routes/                       # API route handlers
    │   ├── posts.py                 # Post endpoints (CRUD, pagination, search)
    │   └── comments.py              # Comment endpoints (CRUD, ratings)
    │
    ├── utils/                        # Utility functions
    │   └── helpers.py               # Helper functions
    │
    ├── migrations/                   # Database migration files
    │   └── (generated by Flask-Migrate)
    │
    ├── models.py                     # ✅ SQLAlchemy database models
    ├── config.py                     # ✅ Configuration classes
    ├── app.py                        # ✅ Flask application factory
    ├── seed.py                       # ✅ Database seeding script
    ├── requirements.txt              # ✅ Python dependencies
    ├── .env                          # Environment variables (create from .env.example)
    ├── .env.example                  # ✅ Example environment variables
    └── .gitignore                    # ✅ Git ignore patterns

```

## Files Created (Backend - Ready to Use)

### Core Files ✅

1. **`server/models.py`** - Post and Comment SQLAlchemy models with One-to-Many relationship
2. **`server/config.py`** - Configuration for Flask, PostgreSQL, Redis, and app settings
3. **`server/app.py`** - Flask application with factory pattern, error handlers, and extensions
4. **`server/requirements.txt`** - All Python dependencies
5. **`server/.env.example`** - Template for environment variables
6. **`server/seed.py`** - Database seeding script with sample data
7. **`server/.gitignore`** - Python-specific ignore patterns

### Route Blueprints (Placeholders)

8. **`server/routes/posts.py`** - Post endpoints (ready for implementation)
9. **`server/routes/comments.py`** - Comment endpoints (ready for implementation)
10.   **`server/utils/helpers.py`** - Utility functions (ready for implementation)

### Documentation

11. **`README.md`** - Complete setup instructions and API documentation

## Database Models Overview

### Post Model

```python
- id: Integer (Primary Key)
- title: String(200) - Indexed
- content: Text
- author: String(100)
- created_at: DateTime
- updated_at: DateTime
- comments: Relationship (One-to-Many with Comment)
```

### Comment Model

```python
- id: Integer (Primary Key)
- post_id: Integer (Foreign Key to Post)
- author: String(100)
- content: Text
- rating: Integer (1-5 stars, optional)
- created_at: DateTime
- updated_at: DateTime
- post: Relationship (Many-to-One with Post)
```

## Key Features Implemented

### Models (models.py)

-  ✅ Post and Comment models with proper relationships
-  ✅ Cascade delete (deleting post removes its comments)
-  ✅ to_dict() methods for JSON serialization
-  ✅ Timestamps with auto-update
-  ✅ Indexing on important fields

### Configuration (config.py)

-  ✅ Environment-based configuration (Development, Production, Testing)
-  ✅ PostgreSQL connection settings
-  ✅ Redis connection settings
-  ✅ Pagination defaults
-  ✅ CORS origins configuration
-  ✅ Cache timeout settings

### Application (app.py)

-  ✅ Application factory pattern
-  ✅ Extensions initialization (SQLAlchemy, Migrate, Cache, CORS)
-  ✅ Blueprint registration structure
-  ✅ Global error handlers (404, 500, 400)
-  ✅ Health check endpoint

### Database Seeding (seed.py)

-  ✅ 8 sample blog posts
-  ✅ 17 sample comments with ratings
-  ✅ Realistic timestamps and relationships

## Next Steps

### Backend

1. Implement Post API endpoints in `routes/posts.py`
2. Implement Comment API endpoints in `routes/comments.py`
3. Add validation schemas with Marshmallow
4. Implement Redis caching for GET endpoints
5. Add pagination and search functionality
6. Write unit tests

### Frontend

1. Set up API client with fetch/axios
2. Create blog post listing page with grid layout
3. Create single post view page
4. Build post creation/editing forms
5. Implement comment section component
6. Add search and pagination UI
7. Configure React Query or SWR
8. Add animations with Motion or GSAP

## Environment Setup Required

Before running the application, ensure:

1. **PostgreSQL** is installed and running
2. **Redis** is installed and running
3. Create `.env` file from `.env.example` in server/
4. Create database: `createdb blogsite_db`
5. Install Python dependencies: `pip install -r requirements.txt`
6. Run migrations: `flask db init && flask db migrate && flask db upgrade`
7. Seed database: `python seed.py`

Then start both servers:

-  Backend: `python app.py` (Port 5000)
-  Frontend: `npm run dev` (Port 3000)
